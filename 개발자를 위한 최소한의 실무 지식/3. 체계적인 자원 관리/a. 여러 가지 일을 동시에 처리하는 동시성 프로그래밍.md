### 동시성 프로그래밍이란
동시성 프로그래밍이란 하나의 프로세서가 여러 작업을 동시에 실행하도록 프로그래밍하는 기법이다. 이를 위해 일꾼 역할을 하는 `스레드`를 생성하여 이 스레드들이 동시에 여러 작업을 처리하도록 프로그래밍한다. 동시에 여러 작업을 처리하기 위해 여러 개의 스레드가 생성되기 때문에 `멀티 스레드`라는 이름이 붙는다.

🚨 다음의 코드는 아무런 문제가 없어 보이지만, 여러 개의 스레드가 데이터를 뒤죽박죽으로 가져오는 문제가 생긴다. 이렇게 프로세스나 스레드가 동시에 공유 자원에 접근하면서 경쟁하는 상태를 `경쟁 상태(Data Race)`라고 부른다.
```java
if (!data.isEmpty()) {
    myData = data.get(0);
    // 데이터 활용하기
    data.remove(0);
}
```

**✅ 데이터가 뒤죽박죽으로 나오는 이유는?**
> 2개의 스레드에서 동일한 데이터를 동시에 가져온 후에 36행에서 데이터를 삭제하는 코드를 두 번 실행했기 때문이다. 데이터를 삭제하는 이 메서드의 특성상 여러 개의 스레드가 remove를 동시에 호출해도 실제로는 순차적으로 요청을 처리하기 때문에 데이터가 동시에 삭제되지 않는다.

이와 같이 공유 자원에 접근할 때 한 번에 스레드 하나만 가능하도록 특별한 구역을 지정하는 것을 `임계구역(Critical Section)`이라고 한다. 임계 구역은 Lock이라는 메커니즘을 사용해 지정된다. 락을 걸어서 다른 스레드가 실행할 수 없게 코드를 잠근다. 임계 구역의 실행이 끝나면 락을 풀어서 다른 스레드의 접근을 허용한다.  

자바에서 임계 구역은 Synchronized 블록으로 감싸면 된다. 그러면 한 스레드가 임계 구역으로 진입하자마자 락이 걸려 다른 스레드가 진입하지 못한다. 그리고 그 스레드가 임계 구역을 빠져나오면 자동으로 락이 풀려 다른 스레드의 접근이 허용된다.
```java
synchroinzed (data) {
    myData = data.get(0);
    // 데이터 활용하기
    data.remove(0);
}
```